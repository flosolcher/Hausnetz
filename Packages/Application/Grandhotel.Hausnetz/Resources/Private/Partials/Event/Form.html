<f:form action="{action}" class="form-horizontal" object="{object}" objectName="{objectName}">
        <div class="form-group">
            <label class="col-md-2 control-label">{f:translate(id: 'event.')}</label>
            <div class="col-md-10">
                <f:form.textfield class="form-control" property="title" />
            </div>
        </div>
        <div class="form-group">
            <label for="start-date-input" class="col-md-2 control-label">{f:translate(id: 'event.startdate')}</label>
            <div class="col-md-10">
                <div class="input-group date form-datetime" data-link-field="start-date-input">
                    <input class="form-control display-field" size="16" type="text" value="" readonly>
                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                    <span class="input-group-addon"><i class="fa fa-times"></i></span>
                </div>
            </div>
            <f:if condition="{object}">
                <f:then>
                    <f:form.textfield property="startDate" class="hide" value="{f:format.date(date: '{object.startDate}', format: 'd.m.Y H:i')}" id="start-date-input" />
                </f:then>
                <f:else>
                    <f:form.textfield property="startDate" class="hide"  id="start-date-input" />
                </f:else>
            </f:if>

        </div>
        <div class="form-group">
            <label for="end-date-input" class="col-md-2 control-label">{f:translate(id: 'event.enddate')}</label>
            <div class="col-md-10">
                <div class="input-group date form-datetime" data-link-field="end-date-input">
                    <input class="form-control display-field" size="16" type="text" value="" readonly>
                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                    <span class="input-group-addon"><i class="fa fa-times"></i></span>
                </div>
            </div>

            <f:if condition="{object}">
                <f:then>
                    <f:form.textfield property="endDate" class="hide" value="{f:format.date(date: '{object.endDate}', format: 'd.m.Y H:i')}" id="end-date-input" />
                </f:then>
                <f:else>
                    <f:form.textfield property="endDate" class="hide"  id="end-date-input" />
                </f:else>
            </f:if>
        </div>

        <div class="form-group">
            <label class="col-md-2 control-label">{f:translate(id: 'g.description')}</label>
            <div class="col-md-10">
                <f:form.textarea class="form-control" property="description" />
            </div>
        </div>

        <div class="form-group">
            <label class="col-md-2 control-label">{f:translate(id: 'g.location')}</label>
            <div class="col-md-10">
                <f:form.textfield class="form-control" property="location" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label">{f:translate(id: 'g.container')}</label>
            <div class="col-md-10">
                <f:form.select property="container" options="{containers}" optionLabelField="title" prependOptionLabel="Ganzes Haus" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10 col-md-offset-2">
                <div class="checkbox">
                  <label>
                     <f:form.checkbox property="wholeDay" value="1" /> {f:translate(id: 'event.wholeday')}
                  </label>
                </div>
            </div>
        </div>


        <div class="form-group">
            <label class="col-md-2 control-label">{f:translate(id: 'event.recurringtype')}</label>
            <div class="col-md-10">
                <f:form.select property="recurringType" options="{recurringTypes}" prependOptionLabel="Keine Wiederholung" class="form-control recurring-type" />
            </div>
        </div>
    <div class="recurring-fields hidden">
        <div class="form-group">
            <label for="start-date-input" class="col-md-2 control-label">{f:translate(id: 'event.recurringstartdate')}</label>
            <div class="col-md-10">
                <div class="input-group date form-datetime" data-link-field="recurring-start-date-input">
                    <input class="form-control display-field" size="16" type="text" value="" readonly>
                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                    <span class="input-group-addon"><i class="fa fa-times"></i></span>
                </div>
            </div>
            <f:if condition="{object}">
                <f:then>
                    <f:form.textfield property="recurringStartDate" class="hide" value="{f:format.date(date: '{object.recurringStartDate}', format: 'd.m.Y H:i')}" id="recurring-start-date-input" />
                </f:then>
                <f:else>
                    <f:form.textfield property="recurringStartDate" class="hide"  id="recurring-start-date-input" />
                </f:else>
            </f:if>
        </div>
        <div class="form-group">
            <label for="end-date-input" class="col-md-2 control-label">{f:translate(id: 'event.recurringenddate')}</label>
            <div class="col-md-10">
                <div class="input-group date form-datetime" data-link-field="recurring-end-date-input">
                    <input class="form-control display-field" size="16" type="text" value="" readonly>
                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                    <span class="input-group-addon"><i class="fa fa-times"></i></span>
                </div>
            </div>
            <f:if condition="{object}">
                <f:then>
                    <f:form.textfield property="recurringEndDate" class="hide" value="{f:format.date(date: '{object.recurringEndDate}', format: 'd.m.Y H:i')}" id="recurring-end-date-input" />
                </f:then>
                <f:else>
                    <f:form.textfield property="recurringEndDate" class="hide"  id="recurring-end-date-input" />
                </f:else>
            </f:if>
        </div>
    </div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <button type="submit" class="btn btn-default">{f:translate(id: 'g.save')}</button>
        </div>
    </div>

</f:form>
<script type="text/javascript">

    var recurringChange = function() {
        if ($('.recurring-type').val()) {
            $('.recurring-fields').removeClass('hidden');
        } else {
            $('.recurring-fields').addClass('hidden');
        }
    }

    $(function() {

        $('.form-datetime').each(function() {
            var linkFieldId = $(this).attr('data-link-field');
            $(this).find('.display-field').val($('#' + linkFieldId).val());
            $(this).attr('data-date', $('#' + linkFieldId).val());
        });

        $('.form-datetime').datetimepicker({
            //language:  'fr',
            fontAwesome: 1,
            weekStart: 1,
            todayBtn: 1,
            autoclose: 1,
            todayHighlight: 1,
            startView: 2,
            forceParse: 0,
            showMeridian: 0,
            format: 'dd.mm.yyyy hh:ii',
            linkFormat: 'dd.mm.yyyy hh:ii'
        });

        $('.recurring-type').on('change', function() {
            recurringChange();
        });

        recurringChange();

    });
</script>