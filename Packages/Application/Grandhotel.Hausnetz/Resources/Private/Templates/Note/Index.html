<f:layout name="Default" />

<f:section name="Content">
    <div class="row">
      <div class="col-md-12">
         <div class="page-header">
             <h3>{f:translate(id: 'note.title')}</h3>
         </div>
      </div>
      <div class="col-md-8">
        <h4>{f:translate(id: 'note.your_notes')}
           {f:translate(id: 'user.loggedinuser')} {user.username} </h4>
      </div>
      <div class="col-md-4">
         <span class="btn">
            <f:link.action action="new">{f:translate(id: 'note.add')}</f:link.action>
         </span>
      </div>
    </div>
   
    <div class="row">
        <f:for each="{notes}" as="note">
            <div class="col-md-3">
               <f:if condition="{note.title}">
                  <f:then>
                           <h3>
                           <f:link.action action="show" arguments="{note: note}">
                              <f:format.nl2br>{note.title}</f:format.nl2br>
                           </f:link.action>
                           </h3>
                        

                  </f:then>
                  <f:else>
                     <i>(keine Überschrift bisher)</i>
                  </f:else>
               </f:if>
               <p>Letzte Änderung: <f:format.date format="d.m.Y">{note.changedate}</f:format.date></p>
               <f:link.action action="edit" arguments="{note: note, action:edit}">Bearbeiten</f:link.action>|
               <f:link.action action="delete" arguments="{note: note, action:delete}">Löschen</f:link.action>
            </div>   
            <div class="col-md-9">           
               <div class="panel panel-default">
                 <div class="panel-body">
                     <p><f:format.nl2br>{note.content}</f:format.nl2br></p>
                 </div>
               </div>
            </div>
        </f:for>
    </div>
</f:section>
